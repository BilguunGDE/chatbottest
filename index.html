<!DOCTYPE html>
<html>
<head>
<title>Google AI Platform Chatbot</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<style>
/* ... your CSS ... */
</style>
</head>
<body>
<div id="chat-container">
  <h2>Google AI Platform Chatbot</h2>
  <div id="chat-messages"></div>
  <form id="chat-form">
    <input type="text" id="message" placeholder="Type your message...">
    <button type="submit">Send</button>
  </form>
</div>

<script>
$(document).ready(function() {
  const apiUrl = "/predict"; // Points to your Flask server

  $("#chat-form").submit(function(event) {
    event.preventDefault();
    const message = $("#message").val();
    if (!message.trim()) return;

    displayMessage("user-message", "You: " + message);
    $("#message").val("");

    $.ajax({
      url: apiUrl,
      method: "POST",
      data: JSON.stringify({ message }),
      contentType: "application/json",
      success: function(response) {
        displayMessage("bot-message", "Bot: " + response.prediction);
      },
      error: function(error) {
        let errorMessage = "Error: Could not get prediction.";
        if (error.responseJSON && error.responseJSON.error) {
          errorMessage = "Error: " + error.responseJSON.error;
        } else if (error.statusText) {
          errorMessage = "Error: " + error.statusText;
        }
        displayMessage("error-message", errorMessage);
      }
    });
  });

  // ... your displayMessage function ...
});
</script>
</body>
</html>